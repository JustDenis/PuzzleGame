(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"1DEj":function(t,e,o){},QfWi:function(t,e,o){"use strict";o.r(e);o("1DEj"),o("RtS0"),o("4owi"),o("WoWj"),o("3dw1"),o("8cZI"),o("aOEW");var r=function(){function t(t,e,o,r){this.col=t,this.row=e,this.container=document.querySelector(o),this.imgUrl=r,this.boxesArray=[],this.containerWidth=this.container.clientWidth,this.containerHeight=this.container.clientHeight}var e=t.prototype;return e.createBoxes=function(){for(var t=this.col*this.row,e=this.containerWidth/this.col,o=this.containerHeight/this.row,r=0;r<t;r+=1){var n=-1+(r+1)-Math.floor(r/this.col)*this.col,a=Math.floor(r/this.col),c='<div class="puzzle-part" draggable="true"  style="width: '+e+"px; height: "+o+"px; background-image: url("+this.imgUrl+"); background-position:"+e*-n+"px "+o*-a+'px"></div>';this.boxesArray.push(c)}this.shuffleImage(this.boxesArray)},e.shuffleImage=function(t){t.sort((function(){return-.5+Math.random()})),this.container.insertAdjacentHTML("beforeend",t.join(" "))},e.startGame=function(){this.createBoxes()},e.restartGame=function(){this.shuffleImage(this.boxesArray)},t}(),n=["https://s1.eda.ru/StaticContent/Photos/140812180013/140820212258/p_O.jpg","https://cdn.pixabay.com/photo/2019/05/14/16/43/hokkaido-4202825_1280.jpg","https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg","https://cdn.pixabay.com/photo/2019/05/16/09/47/view-4206785_1280.jpg","https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg","https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg","https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg","https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg","https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg","https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg"],a=o("QJ3N"),c=(o("bzha"),o("zrP5"),{sectionDifficult:document.querySelector(".js-difficult"),sectionPuzzle:document.querySelector(".js-puzzle-section"),selectForm:document.querySelector(".js-form-select"),selectButtons:document.querySelector(".js-select-buttons"),confirmButton:document.querySelector(".js-confirm-btn"),exampleImage:document.querySelector(".js-example-img"),backToMenuBtn:document.querySelector('button[data-type="menu"]'),restartBtn:document.querySelector('button[data-type="restart"]'),puzzleBox:document.querySelector("#box")}),s=null,i=null;function l(t,e){var o=n[Math.floor(9*Math.random())+0];i=o,c.sectionDifficult.classList.add("none"),c.sectionPuzzle.classList.remove("none"),c.exampleImage.src=i,currentPuzzle=new r(t,e,"#box",o).startGame(),[].forEach.call(document.querySelectorAll(".puzzle-part"),(function(t){t.addEventListener("dragstart",d)})),console.log(currentPuzzle)}function d(t){[].forEach.call(document.querySelectorAll(".puzzle-part"),(function(t){t.addEventListener("dragenter",p),t.addEventListener("dragover",u),t.addEventListener("dragleave",h),t.addEventListener("drop",f),t.addEventListener("dragend",m)})),t.target.style.opacity=.4,s=t.target,t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("text/html",t.target.outerHTML)}function u(t){t.preventDefault&&t.preventDefault(),t.dataTransfer.dropEffect="move"}function p(t){t.target.classList.add("over")}function h(t){t.target.classList.remove("over")}function f(t){t.stopPropagation&&t.stopPropagation(),s!==t.target&&(s.outerHTML=t.target.outerHTML,t.target.outerHTML=t.dataTransfer.getData("text/html"))}function m(){Array.from(document.querySelectorAll(".puzzle-part")).forEach((function(t){t.addEventListener("dragstart",d,!1),t.style.opacity=1,t.classList.remove("over")})),Array.from(document.querySelectorAll(".puzzle-part")).forEach((function(t){t.removeEventListener("dragenter",p),t.removeEventListener("dragover",u),t.removeEventListener("dragleave",h),t.removeEventListener("drop",f),t.removeEventListener("dragend",m)}))}c.selectForm.addEventListener("click",(function(t){if("submit"!==t.target.type)return;if(""===t.target.dataset.selected)return void Object(a.error)({title:"Select difficulty!"});"easy"===t.target.dataset.selected&&l(3,3);"medium"===t.target.dataset.selected&&l(4,4);"hard"===t.target.dataset.selected&&l(5,5)})),c.selectButtons.addEventListener("click",(function(t){if("BUTTON"!==t.target.nodeName)return;if(document.querySelector(".selected")){document.querySelector(".selected").classList.remove("selected")}t.target.classList.add("selected"),c.confirmButton.dataset.selected=t.target.dataset.difficult})),c.backToMenuBtn.addEventListener("click",(function(){c.sectionDifficult.classList.remove("none"),c.sectionPuzzle.classList.add("none"),c.exampleImage.src="",c.puzzleBox.innerHTML=""}))}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.e6c7fa960b3f539934bf.js.map